### 캐시, 버퍼링, 임시 파일

| 지시어                                         | 설명                                                                                                                                   |
|---------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------|
| proxy_buffer_size                           | 뒷단 서버의 응답 시작 부분을 읽는 데 사용할 버퍼의 크기를 설정합니다.                                                                                             |
| proxy_buffering<br/>proxy_request_buffering | 뒷단 서버에서 오는 응답을 버퍼에 담을지 여부를 정의합니다.<br/>on으로 설정하면 엔진엑스는 버퍼가 제공하는 메모리 공간을 사용해서 응답 데이터를 메모리에 저장합니다.<br/>off로 설정하면 응답은 그대로 클라이언트에게 전달됩니다. |
| proxy_buffers                               | 뒷단 서버에서 응답 데이터를 읽는 데 사용될 버퍼의 개수와 크기를 설정합니다.                                                                                          |
| proxy_busy_buffers_size                     | 뒷단에서 받은 데이터가 버퍼에 쌓이다가 지정한 값을 넘으면 그 버퍼는 비워지고 데이터는 클라이언트에 보내집니다.                                                                       |
| proxy_cache                                 | 캐시 구역을 정의합니다.                                                                                                                        |
| proxy_cache_key                             | 캐시 키를 정의합니다. 캐시 키가 $url로 설정되면 결과적으로 이 $url로 들어오는 모든 요청은 한 캐시 데이터로동작합니다.                                                              |
| proxy_cache_path                            | 캐시 파일을 저장할 디렉터리와 함께 다른 매개변수를 지정합니다.                                                                                                  |
| proxy_cache_methods                         | 캐시에 맞는 HTTP 메서드를 정합니다. GET,HEAD는 기본적으로 포함이며 제외될 수 없습니다.                                                                              |
| proxy_cache_convert_head                    | on이면 캐시되도록 HEAD 메서드를 GET으로 바꿉니다.<br/>off일 경우 cache_key가 $request_method를 포함해야 합니다.                                                   |
| proxy_cache_min_uses                        | 요청이 캐시되기에 알맞다고 판단되기 전에 적중될 최소 수치를 정합니다.<br/>기본적으로 요청의 응답은 한 번 적중된 후에 캐시가 됩니다.                                                        |
| proxy_cache_valid                           | 서로 응답 코드 유형별로 캐시되는 시간을 바꿀 수 있도록 허용합니다.                                                                                               |
| proxy_cache_use_stale                       | 엔진엑스가 특정 상황에 만기된 캐시 데이터를 사용할지 여부를 결정합니다.                                                                                             |
| proxy_cache_background_update               | on으로 설정하면 만기된 캐시 데이터가 제공되는 동안 배후에서 부가 요청을 보내서 만기된 캐시 항목을 갱신한다.                                                                       |
| proxy_max_temp_file_size                    | 0으로 설정하면 프록시 전달에 적합한 요청에 임시 파일을 사용하지 않게 됩니다.                                                                                         |
| proxy_temp_file_write_size                  | 저장 장치에 임시 파일을 저장할 때 쓸 쓰기 작업용 버퍼의 크기를 설정합니다.                                                                                          |
| proxy_temp_path                             | 임시 파일과 캐시 저장 파일의 경로를 설정합니다.                                                                                                          |