### 필수 조정

```
다음과 같은 일부 핵심 지시어는 엔진엑스를 서버에 처음으로 설치할 때 조심스럽게 조정해야 합니다.
```

`use root root`
- 이 지시어는 작업자 프로세스가 root 사용자로 시작하도록 지정하는데, 파일 시스템의 전체 권한을 엔진엑스에 부여하기 때문에 보안상 위험합니다.
- 시스템에 새로운 사용자 계정을 만들고 그 계정을 사용하게 해야 합니다.
- 권장 값: user www-data www-data;

`worker_processes 1`
- 이 설정은 작업자 프로세스 하나만 시작하게 하는데, 모든 요청이 하나의 실행 경로로 처리되며, CPU 코어 하나로 실행됨을 의미합니다.
- 이 값은 늘리는 것이 좋은데, CPU 코어당 최소 하나의 프로세스를 갖도록 설정합니다.
- 또는 auto로 설정해서 엔진엑스가 최적의 값을 결정하게 하는 것도 좋습니다.
- 권장 값: worker_processes auto;

`worker_priority 0`
- 기본적으로 작업자 프로세스는 일반적인 프로세스 우선순위로 시작됩니다.
- 시스템이 다른 작업을 동시에 수행하는 경우에 엔진엑스 작업자 프로세스에 높은 우선순위를 부여할 수 있습니다.
- 프로세스 우선순위는 낮은 값이 높은 우선순위를 의미하기 때문에 이 경우 숫자를 낮춰야 합니다.
- 필요한 상황에 따라 달라지므로 별도의 권장 값은 없습니다.

`log_not_found on`
- 이 지시어는 엔진엑스가 404 errors 로그를 남길 것인지 아닌지 지정합니다.
- 이 로그가 누락된 자원에 대한 유용한 정보를 제공하긴 하지만, 파비콘에 웹 브라우저가 접근하거나 검색 로봇이 robots.txt에 접근하는 수많은 로그가 쌓이게 됩니다.

`worker_connections 1024`
- 이 설정은 작업자 프로세스의 수와 함께 서버가 동시에 수용할 수 있는 연결 수를 결정합니다.
- 예를 들어 각각 1024개의 연결을 수용하는 작업자 프로세스가 4개라면 서버는 동시 연결을 최대 4096개까지 처리하게 됩니다.