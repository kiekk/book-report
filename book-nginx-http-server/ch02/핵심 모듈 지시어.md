| 지시어 이름과 맥락              | 구문과 설명                                                                                                                                                                                                                                                                                                       |
|-------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| daemon                  | 가능한 값: on(기본값) / off<br/>ex) daemon on;<br/>데몬 모드를 켜거나 끕니다.<br/>끄면 프로그램이 백그라운드에서 시작하지 않습니다.<br/>셸에서 실행하면 전면(foreground)에서 실행됩니다.<br/>언제 어디서 엔진엑스가 충돌이 나는지 알고 싶을 때 디버깅에 유용합니다.                                                                                                                                |
| debug_points            | 가능한 값: stop / abort / None(기본값)<br/>ex) debug_points stop;<br/>엔진엑스 내부의 디버그 지점을 활성화시킵니다.<br/>stop은 붙어 있는 디버거가 디버그 지점에 다다랐을 때 프로그램을 중지시키며, abort는 디버그 지점에서 프로그램을 중단시키고 코어 덤프 파일을 생성하게 합니다.<br/>이 기능을 비활성화하려면 지시어를 사용하지 않습니다.                                                                                  |
| env                     | ex) env MY_VARIABLE; env MY_VARIABLE=my_value;<br/>환경 변수를 정의하거나 덮어씌웁니다.                                                                                                                                                                                                                                      |
| error_log               | ex) error_log /file/path level;<br/>기본값: logs/error.log error<br/>level은 가장 상세한로그를 남기는 debug부터 info, notice, warn, error, crit, alert 그리고 가장 치명적인 오류만 보고하는 emerg 중 하나로 지정할 수 있습니다.<br/>파일 경로 대신 다른 것을 지정할 수도 있습니다.<br/>표준 오류 출력 장치로 보내고 싶으면 steerr, 시스템 로그로 보내고 싶으면 syslog, 메모리로 보내고 싶으면 memory로 지정할 수 있습니다. |
| load_module             | ex) load_module modules/ngx_mail_module.so;<br/>동적 모듈을 읽어 활성화합니다.<br/>상호 배제를 위한 락 파일을 지정합니다.<br/>컴파일할 때 켜지 않는 한 기본적으로는 꺼져있습니다.<br/>락은 대부분의 운영체제에서 원자적 연산으로 락을 구현하기 때문에 이 지시어는 무시됩니다.                                                                                                                         |
| lock_file               | ex) lock_file logs/nginx.lock;<br/>기본값: 컴파일할 때 결정된 값<br/>상호 배제를 위한 락 파일을 지정합니다.<br/>컴파일할 때 켜지 않는 한 기본적으로는 꺼져있습니다.<br/>락은 대부분의 운영체제에서 원자적 연산으로 락을 구현하기 때문에 이 지시어는 무시됩니다.                                                                                                                                      |
| master_process          | 가능한 값: on(기본값) / off<br/>ex)master_process on;<br/>기본적으로 활성화돼 있으며, 엔진엑스가 시작할 때 주 프로세스와 작업자 프로세스로 나뉘어 다중 프로세스로 동작합니다.<br/>비활성화시키면 엔진엑스는 단 하나의 프로세스로 동작하는데, 이때는 테스트 용도로만 사용해야 합니다.<br/>주 프로세스가 비활성화돼 클라이언트가 서버로 접속할 수 없기 때문입니다.                                                                                |
| pcre_jit                | 가능한 값: on / off<br/>ex) pcre_jit on;<br/>펄 호환 정규식 8.20 이상의 정규식을 실행 시점(Just-In-Time 이하 JIT)에 컴파일하는 것을 켜고 끕니다.<br/>켰을 때 처리 속도가 비약적으로 향상될 수 있습니다.<br/>이 기능이 동작하려면 PCRE 라이브러리가 --enable-jit 옵션으로 빌드된 것이어야 하고, 엔진엑스도 --with-pcre-jit 옵션으로 빌드된 것이어야 합니다.                                                           |
| pid                     | ex) pid logs/nginx.pid;<br/>기본값: 컴파일할 때 결정된 값<br/>엔진엑스 데몬의 pid 파일 경로다. 기본값은 컴파일할 때 결정됩니다. pid 파일은 운영체제에 종속적인 엔진엑스 init 스크립트에서 사용될 수 있기 때문에 이 지시어는 반드시 올바르게 설정되어야 합니다.                                                                                                                                        |
| ssl_engine              | ex) ssl_engine enginename;<br/>기본값: 없음<br/>여기서 enginename은 시스템에서 사용 가능한 하드웨어 SSL 가속 명령어의 이름입니다.<br/>셸에서 openssl engine -t 명령어를 실행하면 사용 가능한 하드웨어 SSL 가속 명령어를 확인할 수 있습니다.                                                                                                                                      |
| thread_pool             | ex) thread_pool name threads=number [max_queue=number];<br/>기본값: thread_pool default threads=32 max_queue=65536;<br/>대용량 파일을 비동기로 처리하기 위한 aio 지시어와 함께 사용될 수 있는 스레드 풀 참조를 정의합니다.                                                                                                                              |
| timer_resolution        | ex) timer_resolution 100ms;<br/>기본값: 없음<br/>내부 시계를 동기화하는 gettimeofday() 시스템 호출 간격을 조절합니다.<br/>이 값이 지정되지 않으면 커널 이벤트 알림(kernel event notification)때마다 시계가 고쳐집니다.                                                                                                                                               |
| user                    | ex) user username groupname; user username;<br/>기본값: 컴파일할 때 결정됨<br/>구성 지시어로도 정의되지 않으면 엔진엑스 주 프로세스의 사용자와 그룹이 사용됩니다.<br/>엔진엑스 작업자 프로세스를 시작시키는 사용자 계정과 그룹을 지정할 수 있습니다.<br/>그룹이 필수는 아닙니다.<br/>보안상의 이유로 제한된 권한의 사용자와 그룹을 지정해야 하는데, 예를 들면 엔진엑스 전용의 사용자와 그룹을 만들고 서비스되는 파일에 적절한 권한을 적용하는 것입니다.                       |
| worker_cpu_affinity     | ex) worker_cpu_affinity CPU_마스크; worker_cpu_affinity auto [CPU_마스크];<br/>기본값: 없음<br/>이 지시어는 worker_processes와 함께 동작하며, 작업자 프로세스와 CPU 코어 간의 선호도(affinity)를 부여합니다.<br/>선호도는 멀티코어 CPU일 때만 권장되며, 하이퍼스레딩(hyper-threading)이나 유사한 기술에는 권장되지 않습니다.<br/>auto 값이 지정되면 작업자 프로세스가 자동으로 기용한 CPU에 결합됩니다.                   |
| worker_priority         | ex) worker_priority 0;<br/>기본값: 0<br/>작업자 프로세스의 우선순위를 최고 -20에서 최소 19까지의 범위에서 지정합니다.<br/>참고로 커널 프로세스는 우선순위 -5에서 실행되기 때문에 -5 이하의 우선순위는 설정하지 않는 것이 좋습니다.                                                                                                                                                        |
| worker_processes        | ex) worker_processes 4;<br/>기본값: 1<br/>작업자 프로세스의 수를 지정합니다. 엔진엑스는 요청 처리를 다수의 프로세스로 나눠줍니다.<br/>기본값은 1이지만 CPU가 듀얼 코어 이상이라면 더 큰 값으로 지정하는 것이 좋습니다.<br/>게다가 느린 I/O 수행으로 프로세스가 차단되더라도 돌아오는 요청을 다른 프로세스에 위임할 수 있습니다.<br/>대신 엔진엑스가 이 지시어의 값을 적절히 선택하도록 auto를 사용할 수도 있습니다.<br/>기본적으로 auto는 시스템에서 감지된 CPU 코어의 수가 됩니다.   |
| worker_shutdown_timeout | ex) worker_shutdown_timeout 10s;<br/>기본값: 없음<br/>안전하게 종료(graceful shutdown)할 때 진행 중인 작업자 프로세스가 끝내도록 대기할 시간을 정합니다.<br/>시한이 지나면 모든 연결을 강제로 끊고 프로세스를 종료합니다.                                                                                                                                                     |
| worker_rlimit_core      | ex) worker_rlimit_core 100m;<br/>기본값: 없음<br/>작업자 프로세스당 코어 파일의 크기를 지정합니다.                                                                                                                                                                                                                                     |
| worker_rlimit_nofile    | ex) worker_rlimit_nofile 10000;<br/>기본값: 없음<br/>작업자 프로세스가 동시에 사용할 수 있는 파일의 개수를 지정합니다.                                                                                                                                                                                                                        |
| working_directory       | ex) working_directory /usr/local/nginx/;<br/>기본값: 컴파일할 때 결정되는 기준 경로(prefix)<br/>작업 디렉터리는 작업자 프로세스가 코어 파일의 위치를 지정하는 용도로만 사용됩니다.<br/>user 지시어로 지정되는 작업자 프로세스의 사용자 계정은 이 디렉터리에 코어 파일을 쓰려면 반드시 쓰기 권한이 있어야 합니다.                                                                                                   |
| worker_aio_request      | 구문: 숫자<br/>ex) worker_aio_requests 10000;<br/>aio에 epoll 연결 처리 방식을 사용 중이라면 이 지시어는 작업자 프로세스 하나의 최대 비동기 I/O 작업수를 설정합니다.                                                                                                                                                                                        |
